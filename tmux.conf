# Unbind default prefix
unbind C-b

# Set prefix to Ctrl+Space
set-option -g prefix C-Space
bind C-Space send-prefix

# Navigate tmux windows (tabs) with Ctrl + Left/Right
bind -n C-Left  previous-window
bind -n C-Right next-window

# Enable mouse support
# --- USE EMACS KEYS IN COPY MODE ---
setw -g mode-keys emacs

# Automatically integrate tmux copy with macOS clipboard
set-option -g set-clipboard on

# --- COPY MODE KEYBINDINGS ---
# Enter copy mode
bind-key [ copy-mode

# Start selection (like Emacs)
bind-key Space send -X begin-selection

# Copy selection to system clipboard (M-w)
bind-key -T copy-mode M-w send -X copy-pipe "pbcopy"

# Cut selection to system clipboard (C-w)
bind-key -T copy-mode C-w send -X copy-pipe-and-cancel "pbcopy"


# --- PASTE SYSTEM CLIPBOARD INSIDE TMUX ---
# Ctrl+y to yank from system clipboard
bind-key -T copy-mode-vi C-y send-keys -X cancel \; run-shell "pbpaste | tmux load-buffer - && tmux paste-buffer"
bind-key -T copy-mode C-y send-keys -X cancel \; run-shell "pbpaste | tmux load-buffer - && tmux paste-buffer"

